<!DOCTYPE html>
<html> 
	<head> 
	<title>OpenCoin</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 

	<link rel="stylesheet" href="jquery.mobile-1.4.0.min.css" />
    <link rel="stylesheet" href="themes/opencoin.css" />
	<script src="jquery-1.8.3.min.js"></script>
    <script>
        $(document).bind("mobileinit", function(){
            $.mobile.defaultPageTransition='none';
            $.mobile.defaultDialogTransition='none';
            /*uncomment this to disable hash history. Useful to comment
              this for development*/
            /* 
            $.mobile.hashListeningEnabled = false;
            $.mobile.pushStateEnabled = false;
            $.mobile.changePage.defaults.changeHash = false;
            */
        });
    </script>
	<script src="jquery.mobile-1.4.0.min.js"></script>
    <script src='jsclient/containerbase.js' ></script>
    <script src='jsclient/container.js' ></script>
    <script src='jsclient/messages.js' ></script>
    <script src='jsclient/BigInt.js' ></script>
    <script src='jsclient/sha256.js' ></script>
    <script src='jsclient/occrypto.js' ></script>
    <script src='jsclient/ocapi.js' ></script>
    <script src='jsclient/oclayer.js'></script>
    <script src='ocgui.js'></script>

        <style type='text/css'>
       /* @media only screen and (min-width: 500px){
            .ui-page, .ui-header, .ui-footer, ui-dialog {
                width: 500px !important;
            }
        }*/
        #info.ui-dialog .ui-header a[data-icon="delete"] {
             display: none;
        }
    </style>
</head> 
<body> 

<div data-role="page" id="currency" data-add-back-btn="false">
    <div data-role="header" data-position="fixed">
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#currencies" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <h3>You have <span class='currencysum'>0</span> <span class='currencyname'>OpenCoin</span></h3>
<!--         <span style="font-size:small; font-weight:normal" class='currencyid'>abcdef12341234efab</span><h3> -->
        
        <div class="ui-grid-a">
	        <div class="ui-block-a"><a href="#send" class="ui-btn ui-icon-mail ui-btn-icon-top ui-btn-b">Send</a></div>
	        <div class="ui-block-b"><a href="#receive" class="ui-btn ui-icon-shop ui-btn-icon-top ui-btn-b">Receive</a></div>
	    </div>
	    <div class="ui-grid-a">
	        <div class="ui-block-a"><a href="#info" class="ui-btn ui-icon-recycle ui-btn-icon-top ui-btn-b" data-rel='dialog' id='getchange'>Get change</a></div>
	        <div class="ui-block-b"><a href="#processreceipt" class="ui-btn ui-icon-tag ui-btn-icon-top ui-btn-b">Receipt</a></div>
	    </div>
		<div class="ui-grid-a">
	        <div class="ui-block-a"><a href="#withdraw" class="ui-btn ui-icon-arrow-d ui-btn-icon-top ui-btn-b">Withdraw</a></div>
	        <div class="ui-block-b"><a href="#deposit" class="ui-btn ui-icon-arrow-u ui-btn-icon-top ui-btn-b">Deposit</a></div>
	    </div>
    </div>
	
    <div data-role="footer" xclass="ui-bar" data-position="fixed">
        <a href="#currencies" class="ui-btn ui-btn-icon-left ui-icon-home">Currencies</a>
        <a href="#advanced" class="ui-btn ui-btn-icon-right ui-icon-grid" style="float:right">Advanced</a>
	</div>
</div>

<div data-role="page" id="currencies"  xdata-add-back-btn="true">
	<div data-role="header" data-position="fixed">
		<h1>OpenCoin JS Client</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

    <div data-role="content">
        <ul data-role='listview' data-inset='true' id='currencylist'>
            <li><a href='#currency'><h3>
                OpenCoin</h3>
                <p>You have <strong>0</strong></p>
                </a></li>
        </ul>
    </div>

	<div data-role="footer" data-position="fixed">   
        <a href="#settings" class="ui-btn ui-btn-icon-right ui-icon-gear" style="float:right">Settings</a>
    </div>
</div>

<div data-role="page" id="settings">
	<div data-role="header" data-position="fixed">
        <a href="#currencies" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1>Settings</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#addcurrency" data-icon='plus'>Add currency</a></li>
        </ul>

        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#export" xdata-icon='info'>Export complete database</a></li>
            <li><a href="#import" xdata-icon='info'>Import complete database</a></li>
        </ul>
	</div>
</div>

<div data-role="page" id="addcurrency">
	<div data-role="header" data-position="fixed">
        <a href="#settings" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1>Add Currency</h1>
	</div>
	<div data-role="content">
        <form>
            <div>
                <p>Please enter the URL of the currency:</p>
                <input name="url" id="url" value="http://issuer.blindcoin.org/" type="url" />
            </div>
            <input id="do-addcurrency" type="submit" value="Add currency" />
        </form>
	</div>
</div>

<div data-role="dialog" id="addingcurrency">
	<div data-role="header" data-position="fixed">
		<h1>Adding currency</h1>
	</div>

	<div data-role="content">
        <div>
		The currency has the following id:
        </div>
        <blockquote>
        <b><code id='cidarea'>82abccea8c82981adce47a9ddbfb1f43317b29ffe1393445317de0c455e9e028</code></b>
        </blockquote>
        <div>
        Please make sure that this is the <strong>exact</strong> id that you wanted to add.</div>
		<a href="#currencies" data-role="button" class='confirm' data-icon='check'>Yes, all good</a>
        <a href="#addcurrency" data-role="button" class='cancel' data-icon='alert'>No, I want to cancel</a>
	</div>
</div>

<div data-role="page" id="export">
	<div data-role="header" data-position="fixed">
        <a href="#settings" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1>Export database</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        Please store the database block below somewhere safe.
        <textarea name="exportmessage" id="exportmessage" data-role="none" rows='10' style='width:100%;font-size:small;font-family: monospace'>the export data</textarea>
        <a href='#settings' data-role='button' xdata-icon='check' data-inline='true'>Done</a>
	</div>
</div>


<div data-role="page" id="import">
	<div data-role="header" data-position="fixed">
        <a href="#settings" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1>Import database</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <strong>Importing the database will delete the current database. You will lose all your current settings and coins.</strong><br/>
        Paste the database block below.
        <textarea name="importmessage" id="importmessage" data-role="none" rows='10' style='width:100%;font-size:small;font-family: monospace' autocomplete="off"></textarea>
        <a href="#settings" data-role="button" data-inline='true' data-icon='alert'>Cancel</a>
        <a href='#settings' data-role='button' class='import' data-icon='check' data-inline='true'>Import</a>
	</div>
</div>


<div data-role="page" id="withdraw"  data-add-back-btn="true">

	<div data-role="header" data-position="fixed">
        <a href="#currency" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>
	<div data-role="content">
    <p>Enter the amount you want to withdraw, and the subject as required by the issuer.</p>
      <form> 
        <div data-role='fieldcontain'>
            <label for="amount">Amount</label>
            <input name="amount" id="amount" value="" type='number'/>
        </div>
        <div data-role='fieldcontain'>
            <label for="subject">Subject</label>
            <input type="text" name="subject" id="subject" value="" />
        </div>
		<a href="#info" data-rel='dialog' class="confirm ui-btn ui-icon-arrow-d ui-btn-icon-left ui-btn-inline">Withdraw</a>
      </form>
	</div>
</div>

<div data-role="page" id="send" >
	<div data-role="header" data-position="fixed">
        <a href="#currency" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
      <form>
        <p>Enter the amount you want to send, and an optional subject.</p>
        <div data-role='fieldcontain'>
            <label for="amount">Amount</label>
            <input name="amount" id="amount" value="" type='number'/>
        </div>
        <div data-role='fieldcontain'>
            <label for="subject">Subject</label>
            <input type="text" name="subject" id="subject" value="" />
        </div>
		<a href="#sendresult" xdata-rel='dialog' class="confirm ui-btn ui-icon-mail ui-btn-icon-left ui-btn-inline">Send</a>
        </form>
	</div>
</div>


<div data-role="page" id="sendresult" >
	<div data-role="header" data-position="fixed">
		<a href="#currency" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <p>Your message has been created.</p>
        <textarea name="message" id="sendmessage" data-role="none" rows='10' style='width:100%;font-size:small;font-family: monospace'>No message available</textarea>
        <button class="sendtouser ui-btn ui-btn-inline ui-btn-icon-left ui-icon-user">Send to a user</button>
        <a href="mailto:?subject=Some greens for you&body=some crazy json" class="ui-btn ui-btn-inline ui-btn-icon-left ui-icon-mail" data-inline="true">Send via E-Mail</a>
	</div>
</div>


<div data-role="page" id="sendtouser" >
	<div data-role="header" data-position="fixed">
		<a href="#sendresult" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <p>Enter the username of the recipient:</p>
         <div data-role='fieldcontain'>
            <label for="recipient">Username</label>
            <input name="recipient" class="recipient" value="" type="text" />
        </div>
        <button class="confirm ui-btn ui-btn-inline ui-btn-icon-left ui-icon-check">Send</button>
	</div>
</div>


<div data-role="page" id="receive" >
	<div data-role="header" data-position="fixed">
        <a href="#currency" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <p>Enter the message block you received.</p>
        <textarea name="message" id="receivemessage" data-role="none" rows='10' style='width:100%;font-size:small;font-family: monospace' autocomplete="off"></textarea>
        <a href='#info' data-rel='dialog' data-role='button' class="confirm ui-btn ui-icon-shop ui-btn-icon-left ui-btn-inline">Receive</a>
	</div>
</div>


<div data-role="page" id="receiveresult" >
	<div data-role="header" data-position="fixed">
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
       <div>Received <span id='receivedamount'>123</span> <span class='currencyname'>OpenCoin</span><br/>
       Please transfer the following receipt to the sender</div>
        <textarea name="message" id="receipt" data-role="none" rows='10' style='width:100%;font-size:small;font-family: monospace'>
        some crazy json
        </textarea>
            <a href="mailto:?subject=Some greens for you&body=some crazy json" data-role='button' data-inline='true' class='email'>Email</a>
        <!--<a href='' data-role='button' data-inline='true'>Copy</a>-->
        <a href='#currency' data-role='button' data-icon='check' data-inline='true'>Done</a>
	</div>
</div>


<div data-role="page" id="receivedfromuser" >
	<div data-role="header" data-position="fixed">
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
		<h2>Congratulations!</h2>
       <p>You have received <span class="amount">123</span> <span class='currencyname'>OpenCoin</span></p>
        <a href='#currency' data-role='button' data-icon='check' data-inline='true'>Done</a>
	</div>
</div>


<div data-role="page" id="processreceipt" >
	<div data-role="header" data-position="fixed">
        <a href="#currency" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <p>Enter the message block you received.</p>
        <textarea name="message" id="receivedreceipt" data-role="none" rows='10' style='width:100%;font-size:small;font-family: monospace' autocomplete="off"></textarea>
        <a href='#alert' class="ui-btn ui-icon-tag ui-btn-icon-left ui-btn-inline">Process receipt</a>
	</div>
</div>

<div data-role="page" id="deposit" >
	<div data-role="header" data-position="fixed">
        <a href="#currency" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
      <form>
        <p>Enter the amount you want to deposit, and an optional subject.</p>
        <div data-role='fieldcontain'>
            <label for="amount">Amount</label>
            <input name="amount" id="amount" value="" type='number'/>
        </div>
        <div data-role='fieldcontain'>
            <label for="subject">Subject</label>
            <input type="text" name="subject" id="subject" value="" />
        </div>
		<a href="#info" data-rel='dialog' class="confirm ui-btn ui-icon-arrow-u ui-btn-icon-left ui-btn-inline">Deposit</a>
        </form>
	</div>
</div>

<div data-role="page" id="info">
	<div data-role="header" data-position="fixed">
		<h1 id='infoheader'>please wait</h1>
	</div>

	<div data-role="content" id='infotext'>
		working...
	</div>
</div>

<div data-role="dialog" id="error">
	<div data-role="header" data-position="fixed">
		<h1>ERROR</h1>
	</div>

	<div data-role="content">
		We have the following problem:
        <blockquote id='errormessage'>errormessage</blockquote>
		<a href="back" data-role="button" data-rel='back'>Ok</a>
	</div>
</div>


<div data-role="page" id="alert">
	<div data-role="header" data-position="fixed">
		<h1 id='alertheader'>please wait</h1>
	</div>

	<div data-role="content"><span id='alerttext'>
		working...</span>
    <a href='#currency' class='ok' data-role="button">Ok</a>
	</div>
</div>

<div data-role="page" id="advanced" >
    <div data-role="header" data-position="fixed">
        <a href="#currency" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#coins" data-icon='info'>Coins</a></li>
            <li><a href="#mkcs" data-icon='info'>Mint key certificates</a></li>
            <li><a href="#cddcs" data-icon='info'>Currency descriptions</a></li>
            <li><a href="#messages" data-icon='info'>Pending messages</a></li>
        </ul>
        
        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#deletecurrency" data-icon='info'>Delete <span class='currencyname'>currency</span></a></li>
        </ul>
        
      
    </div>
</div>


<div data-role="page" id="coins">
	<div data-role="header" data-position="fixed">
        <a href="#advanced" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
	    <div><span class='currencyname'>Coins you hold</div>
		
        <div xdata-role="collapsible-set">	
            <ul data-role="listview" data-inset='true' id='coinlist'>
                <li><a href="#coin">1 Greenbuck</a></li>
                <li><a href="#coin">2 Greenbuck</a></li>
                <li><a href="#coin">2 Greenbuck</a></li>
                <li><a href="#coin">1 Greenbuck</a></li>
                <li><a href="#coin">5 Greenbuck</a></li>
            </ul>
		</div>
	</div>
</div>

<div data-role="page" id="coin">
	<div data-role="header" data-position="fixed">
        <a href="#coins" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
    <span id='coinvalue'>1</span> <span class='currencyname'>Greenbuck</span>
       <form>
        <textarea>Go back and select a coin</textarea>
       </form>
    </div>	    		
</div>


<div data-role="page" id="cddcs">
	<div data-role="header" data-position="fixed">
        <a href="#advanced" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
	    <div>Currency description documents</div>
		
        <div data-role="collapsible-set">	
            <ul data-role="listview" data-inset='true'>
                <li><a href="#cddc" cddcid=''>serial 1, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 2, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 3, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 4, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 5, Greenbuck, http://greenbucks.org/</a></li>
            </ul>
		</div>
	</div>
</div>

<div data-role="page" id="cddc">
	<div data-role="header" data-position="fixed">
        <a href="#cddcs" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
    Currency description document, serial <span id='cddcserial'>1</span>
       <form>
        <textarea>Go back and select a cdd</textarea>
       </form>
    </div>	    		
</div>

<div data-role="page" id="mkcs">
	<div data-role="header" data-position="fixed">
        <a href="#advanced" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
	    <div>Mint Key Certificates</div>
		
        <div data-role="collapsible-set">	
            <ul data-role="listview" data-inset='true'>
                <li><a href="#mkc">Denomination 1, Start: 1.1.2013, End 1.6.2013</a></li>
                <li><a href="#mkc">Denomination 2, Start: 1.1.2013, End 1.6.2013</a></li>
                <li><a href="#mkc">Denomination 5, Start: 1.1.2013, End 1.6.2013</a></li>
            </ul>
		</div>
	</div>
</div>

<div data-role="page" id="mkc">
	<div data-role="header" data-position="fixed">
        <a href="#mkcs" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
    Denomination <span id='mkcdenomination'>1</span>, Start: <span id='mkcstart'>1.1.2013</span>, End <span id='mkcend'>1.6.2013</span>
       <form>
        <textarea>Please go back and select an mkc</textarea>
       </form>
    </div>	    		
</div>


<div data-role="page" id="messages">
	<div data-role="header" data-position="fixed">
        <a href="#advanced" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
	    <div>All your pending messages</div>
		 <ul data-role="listview" data-inset='true' id='messagelist'>
            <li><a href="#message">Message 999: Send Coins</a></li>
        </ul>

	</div>
</div>

<div data-role="page" id="message">
	<div data-role="header" data-position="fixed">
        <a href="#messages" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1 class='currencyname'>OpenCoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
    <h4>Message:  <span id='message_type'>not selected</span></h4>
        <!--<a href='#messages' data-role='button' data-icon='check' data-inline='true'>Keep</a>
        <a href='#messages' data-role='button' data-icon='delete' data-inline='true'>Delete</a>
        <a href='#messages' data-role='button' data-icon='refresh' data-inline='true' id='recover_coins'>Recover coins</a>-->

       <form>
        <textarea>Please go back and select a pending message</textarea>
       </form>
    </div>	    		
</div>

<div data-role="page" id="deletecurrency">
	<div data-role="header" data-position="fixed">
        <a href="#advanced" class="ui-btn ui-btn-icon-left ui-icon-back">Back</a>
		<h1>Delete currency?</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
		<h1>Delete currency <span class='currencyname'>Greenbuck</span>?</h1>
        You will lose <span class='currencysum'>217.03</span> <span class='currencyname'>OpenCoin</span> if you do this. Are you really, really sure? Like, absolutely sure?
		<a href="#advanced" data-role="button" data-icon='back'>Be safe, go back</a>
		<a href="#currency" class='confirm' data-role="button" data-theme='c' data-icon='delete'>Ok, delete currency</a>
	</div>
</div>

<div data-role="page" id="user">
	<div data-role="header" data-position="fixed">
        <a href='#currency' data-icon='back'>back</a>
		<h1 class='currencyname'>opencoin</h1>
		<a href="#user" class="username ui-btn ui-btn-icon-right ui-icon-user">Login</a>
	</div>

	<div data-role="content">
      <form>
        Login to easily send and receive payments:
        <div data-role='fieldcontain'>
            <label for="username">Username</label>
            <input name="username" class="username" value="" type="text" />
        </div>
        <div data-role='fieldcontain'>
            <label for="password">Password</label>
            <input name="password" type="password" />
        </div>
        <button type="submit" class="confirm ui-btn ui-icon-check ui-btn-icon-left ui-btn-inline">Login</button>
        </form>
	</div>
</div>

</body>
</html>
