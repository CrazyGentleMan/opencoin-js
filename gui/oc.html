<!DOCTYPE html>
<html> 
	<head> 
	<title>opencoin</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 

	<link rel="stylesheet" href="jquery.mobile-1.2.0.min.css" />

	<script src="jquery-1.8.2.min.js"></script>
    <script>
        $(document).bind("mobileinit", function(){
            $.mobile.defaultPageTransition='none';
            $.mobile.defaultDialogTransition='none';
            /*
            $.mobile.hashListeningEnabled = false;
            $.mobile.pushStateEnabled = false;
            $.mobile.changePage.defaults.changeHash = false;
            */
        });
    </script>
	<script src="jquery.mobile-1.2.0.min.js"></script>
    <script src='jsclient/containerbase.js' ></script>
    <script src='jsclient/container.js' ></script>
    <script src='jsclient/messages.js' ></script>
    <script src='jsclient/BigInt.js' ></script>
    <script src='jsclient/sha256.js' ></script>
    <script src='jsclient/occrypto.js' ></script>
    <script src='jsclient/ocapi.js' ></script>
    <script src='jsclient/oclayer.js'></script>
    <script src='ocgui.js'></script>

        <style type='text/css'>
       /* @media only screen and (min-width: 500px){
            .ui-page, .ui-header, .ui-footer, ui-dialog {
                width: 500px !important;
            }
        }*/
        #info.ui-dialog .ui-header a[data-icon="delete"] {
             display: none;
        }
    </style>
</head> 
<body data-theme="b"> 

<div data-role="page" id="currencies"  data-theme='b' xdata-add-back-btn="true">
	<div data-role="header" data-position="fixed">
		<h1>opencoin</h1>
	</div>

    <div data-role="content">
        <ul data-role='listview' data-inset='true' id='currencylist'>
            <li><a href='#currency'><h3>
                Greenbucks</h3>
                <p>You have <strong>217.03</strong></p>
                </a></li>
            <li><a href='#currency'><h3>JanGulden</h3>
                <p>You have <strong>91.07</strong></p>
                </a></li>
        </ul>
    </div>

    <div data-role="footer" data-position="fixed">   
        <a href='#addcurrency' data-role='button' data-icon='plus' style="float:right">add currency</a>
    </div>
</div>

<div data-role="page" id="addcurrency" data-theme="b">
	<div data-role="header" data-position="fixed">
        <a href='#currencies' data-icon='back'>back</a>
		<h1>Add Currency</h1>
	</div>

	<div data-role="content">
        
        <form>
            Enter at least the first 10 characters of the currency id, 
            and the url. Please make sure that you got both from a secure
            source.
        
            <div data-role='fieldcontain'>
                <label for="currencyid">Currency id</label>
                <input type="text" name="currencyid" id="currencyid" value="" />
            </div>
            <div data-role='fieldcontain'>
                <label for="url">url</label>
                <input name="url" id="url" value="" type='url'/>
            </div>
            
            <input id='do-addcurrency'  type='submit' value='Add currency'/>
        </form>
	</div>
</div>


<div data-role="dialog" id="addingcurrency" data-theme='b'>
	<div data-role="header" data-position="fixed">
		<h1>Adding currency</h1>
	</div>

	<div data-role="content">
        <h1>Please validate the id</h1>
        <form>
		The currency is we downloaded got is the following. <br/><strong>Please verify that it is correct!</strong> 
        <textarea id='cidarea'>
        82abccea8c82981adce47a9ddbfb1f43317b29ffe1393445317de0c455e9e028
        </textarea>
        Please make sure that this is the <strong>exact</strong> id that you wanted to add.
        </form>
		<a href="#currencies" data-role="button" class='confirm' data-icon='check'>Yes, it is correct</a>
        <a href="#addcurrency" data-role="button" class='cancel' data-theme='c' data-icon='alert'>No, I want to cancel</a>
	</div>
</div>


<div data-role="page" id="currency"  data-add-back-btn="true" data-theme='b'>
    <div data-role="header" data-position="fixed">
        <a href="#currencies" data-icon="home" data-iconpos="notext">Home</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
        <h3>You have <span class='currencysum'>217.03</span> <span class='currencyname'>Greenbucks</span></h3>
        
        <div>currency id: <span class='currencyid'>abcdef12341234efab</span></div> 
        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#send">Send</a></li>
            <li><a href="#receive">Receive</a></li>
            <li><a href="#info" data-rel='dialog' id='getchange'>Get change</a></li>
            <li><a href="#processreceipt">Process receipt</a></li>
        </ul>
        
        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#withdraw">Withdraw</a></li>
            <li><a href="#deposit">Deposit</a></li>
        </ul>
    </div>
	
    <div data-role="footer" xclass="ui-bar" data-position="fixed">
        <a href="#more" data-role="button" data-icon="grid" style="float:right">advanced</a>
	</div>
</div>


<div data-role="page" id="withdraw" data-theme="b" data-add-back-btn="true">

	<div data-role="header" data-position="fixed">
        <a href='#currency' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>
	<div data-role="content">
    Enter the amount you want to withdraw, and the subject as required by the issuer.
      <form> 
        <div data-role='fieldcontain'>
            <label for="amount">Amount</label>
            <input name="amount" id="amount" value="" type='number'/>
        </div>
        <div data-role='fieldcontain'>
            <label for="subject">Subject</label>
            <input type="text" name="subject" id="subject" value="" />
        </div>
		<a href="#info" data-rel='dialog' data-role="button" class='confirm'>Withdraw</a>
      </form>
	</div>
</div>

<div data-role="page" id="send" data-theme="b">
	<div data-role="header" data-position="fixed">
        <a href='#currency' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
      <form>
        Enter the amount you want to send, and an optional subject.
        <div data-role='fieldcontain'>
            <label for="amount">Amount</label>
            <input name="amount" id="amount" value="" type='number'/>
        </div>
        <div data-role='fieldcontain'>
            <label for="subject">Subject</label>
            <input type="text" name="subject" id="subject" value="" />
        </div>
		<a href="#sendresult" xdata-rel='dialog' data-role="button" class='confirm'>Send</a>
        </form>
	</div>
</div>


<div data-role="page" id="sendresult" data-theme="b">
	<div data-role="header" data-position="fixed">
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
        Send message created. Please transfer this to the recipient
        <textarea name="message" id="sendmessage" data-role="none" rows='10' style='width:100%'>
        some crazy json
        </textarea>
            <a href="mailto:?subject=Some greens for you&body=some crazy json" data-role='button' data-inline='true'>Email</a>
        <!--<a href='' data-role='button' data-inline='true'>Copy</a>-->
        <a href='#currency' data-role='button' data-icon='check' data-inline='true'>Done</a>
	</div>
</div>


<div data-role="page" id="receive" data-theme="b">
	<div data-role="header" data-position="fixed">
        <a href='#currency' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
        Enter the message you received.
        <textarea name="message" id="receivemessage" data-role="none" rows='10' style='width:100%' autocomplete="off"></textarea>
        <a href='#info' data-rel='dialog' data-role='button' class='confirm'>Receive</a>
	</div>
</div>



<div data-role="page" id="receiveresult" data-theme="b">
	<div data-role="header" data-position="fixed">
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
       <div>Received <span id='receivedamount'>123</span> <span class='currencyname'>Greenbucks</span><br/>
       Please transfer the following receipt to the sender</div>
        <textarea name="message" id="receipt" data-role="none" rows='10' style='width:100%'>
        some crazy json
        </textarea>
            <a href="mailto:?subject=Some greens for you&body=some crazy json" data-role='button' data-inline='true'>Email</a>
        <!--<a href='' data-role='button' data-inline='true'>Copy</a>-->
        <a href='#currency' data-role='button' data-icon='check' data-inline='true'>Done</a>
	</div>
</div>

<div data-role="page" id="processreceipt" data-theme="b">
	<div data-role="header" data-position="fixed">
        <a href='#currency' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
        Enter the receipt you received.
        <textarea name="message" id="receivedreceipt" data-role="none" rows='10' style='width:100%' autocomplete="off"></textarea>
        <a href='#alert' data-role='button' class='confirm'>Process receipt</a>
	</div>
</div>

<div data-role="page" id="deposit" data-theme="b">
	<div data-role="header" data-position="fixed">
        <a href='#currency' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
      <form>
        Enter the amount you want to deposit, and an optional subject.
        <div data-role='fieldcontain'>
            <label for="amount">Amount</label>
            <input name="amount" id="amount" value="" type='number'/>
        </div>
        <div data-role='fieldcontain'>
            <label for="subject">Subject</label>
            <input type="text" name="subject" id="subject" value="" />
        </div>
		<a  href="#info" data-rel='dialog' data-role="button" class='confirm'>Deposit</a>
        </form>
	</div>
</div>

<div data-role="page" id="info" data-theme='b'>
	<div data-role="header" data-position="fixed">
		<h1 id='infoheader'>please wait</h1>
	</div>

	<div data-role="content" id='infotext'>
		working...
	</div>
</div>

<div data-role="dialog" id="error" data-theme='b'>
	<div data-role="header" data-position="fixed">
		<h1>ERROR</h1>
	</div>

	<div data-role="content">
		We have the following problem:
        <blockquote id='errormessage'>errormessage</blockquote>
		<a href="back" data-role="button" data-rel='back'>Ok</a>
	</div>
</div>


<div data-role="page" id="alert" data-theme='b'>
	<div data-role="header" data-position="fixed">
		<h1 id='alertheader'>please wait</h1>
	</div>

	<div data-role="content"><span id='alerttext'>
		working...</span>
    <a href='#currency' data-role="button">Ok</a>
	</div>
</div>

<div data-role="page" id="more"  data-theme='b'>
    <div data-role="header" data-position="fixed">
        <a href='#currency' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
        <div><strong>Advanced actions</strong></div>
        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#coins" data-icon='info'>Coins</a></li>
            <li><a href="#cddcs" data-icon='info'>Currency descriptions</a></li>
            <li><a href="#mkcs" data-icon='info'>Mint key certificates</a></li>
            <li><a href="#messages" data-icon='info'>Pending messages</a></li>
        </ul>
        
        <ul data-role="listview" data-inset="true" data-filter="false">
            <li><a href="#deletecurrency" data-icon='info'>Delete currency</a></li>
        </ul>
    </div>
</div>


<div data-role="page" id="coins" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#more' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
	    <div>Coins you hold</div>
		
        <div data-role="collapsible-set" data-theme='d'>	
            <ul data-role="listview" data-inset='true'>
                <li><a href="#coin">1 Greenbuck</a></li>
                <li><a href="#coin">2 Greenbuck</a></li>
                <li><a href="#coin">2 Greenbuck</a></li>
                <li><a href="#coin">1 Greenbuck</a></li>
                <li><a href="#coin">5 Greenbuck</a></li>
            </ul>
		</div>
	</div>
</div>

<div data-role="page" id="coin" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#coins' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
    1 Greenbuck
       <form>
        <textarea>
        {
            "payload": {
                "protocol_version": "http://opencoin.org/1.0",
                "issuer_id": "82abccea8c82981adce47a9ddbfb1f43317b29ffe1393445317de0c455e9e028",
                "cdd_location": "http://opencent.org",
                "denomination": 5,
                "mint_key_id": "f0807f8cd9e8c14d8c25249959f69b81f57ca4be787e891ecd4fd3277c648b6f",
                "serial": "f15634dd644c9bc9114a8be855578020",
                "type": "payload"
            },
            "signature": "322ed0d11f945ad6d38f3839e8dea7f5a1f089e1daa11b03a63929c7dc82505fbcc2863a67ed2c34ef7747c44d4f2b0376252a77d959844bd2da3c7ba561267a",
            "type": "coin"
        }
        </textarea>
       </form>
    </div>	    		
</div>


<div data-role="page" id="cddcs" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#more' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
	    <div>Currency description documents</div>
		
        <div data-role="collapsible-set" data-theme='d'>	
            <ul data-role="listview" data-inset='true'>
                <li><a href="#cddc">serial 1, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 2, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 3, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 4, Greenbuck, http://greenbucks.org/</a></li>
                <li><a href="#cddc">serial 5, Greenbuck, http://greenbucks.org/</a></li>
            </ul>
		</div>
	</div>
</div>

<div data-role="page" id="cddc" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#cddcs' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
    Currency description document, serial 1
       <form>
        <textarea>
{
    "cdd": {
        "protocol_version": "http://opencoin.org/1.0",
        "cdd_location": "http://opencent.org",
        "issuer_cipher_suite": "RSA-SHA512-CHAUM86",
        "issuer_public_master_key": {
            "modulus": "9eb0aaa5a787f2641203b044e162dea88ca829092b23efd3848cec606d93e822c7a816099efc5453786a9d6f7026a581dc34551f8fed9d1deb896d6f4d4e76db",
            "public_exponent": "65537",
            "type": "rsa public key"
        },
        "cdd_serial": 1,
        "cdd_signing_date": "2012-12-30T10:46:00Z",
        "cdd_expiry_date": "2014-12-31T22:59:59Z",
        "currency_name": "OpenCent",
        "currency_divisor": 100,
        "info_service": [
            [
                10,
                "http://opencent.org"
            ]
        ],
        "validation_service": [
            [
                10,
                "http://opencent.org"
            ],
            [
                20,
                "http://opencent.com/validate"
            ]
        ],
        "renewal_service": [
            [
                10,
                "http://opencent.org"
            ]
        ],
        "invalidation_service": [
            [
                10,
                "http://opencent.org"
            ]
        ],
        "denominations": [
            1,
            2,
            5
        ],
        "additional_info": "",
        "type": "cdd"
    },
    "signature": "54d95feaa053ec7be04d1b57416e53547297eb06dd3c9fb4388d5ee77d518318351c35179de833e6899f8d465581b48e130c51f1bdfda4b4d65cd322ac72d35f",
    "type": "cdd certificate"
}        </textarea>
       </form>
    </div>	    		
</div>

<div data-role="page" id="mkcs" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#more' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
	    <div>Mint Key Certificates</div>
		
        <div data-role="collapsible-set" data-theme='d'>	
            <ul data-role="listview" data-inset='true'>
                <li><a href="#mkc">Denomination 1, Start: 1.1.2013, End 1.6.2013</a></li>
                <li><a href="#mkc">Denomination 2, Start: 1.1.2013, End 1.6.2013</a></li>
                <li><a href="#mkc">Denomination 5, Start: 1.1.2013, End 1.6.2013</a></li>
            </ul>
		</div>
	</div>
</div>

<div data-role="page" id="mkc" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#mkcs' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
    Denomination 1, Start: 1.1.2013, End 1.6.2013
       <form>
        <textarea>
        {
            "mint_key": {
                "id": "b75330358fa5bfd3eda3798f5a070c446cca8f94ac78ef8e8c5263585a41dff8",
                "issuer_id": "82abccea8c82981adce47a9ddbfb1f43317b29ffe1393445317de0c455e9e028",
                "cdd_serial": 1,
                "public_mint_key": {
                    "modulus": "ad15048a0e8850405ad0bf27416906b5576eb24f6c10078810c9f1e7ca2c3c22960954f21eacc929c48958e19d48b3f1e0f2d9f998bc3d8163173c44603b73bb",
                    "public_exponent": "65537",
                    "type": "rsa public key"
                },
                "denomination": 1,
                "sign_coins_not_before": "2013-01-01T00:00:00Z",
                "sign_coins_not_after": "2013-06-30T00:00:00Z",
                "coins_expiry_date": "2013-12-31T00:00:00Z",
                "type": "mint key"
            },
            "signature": "953e030fa208dc1d5402f70707b75c5f9c24218351dab18c5747c8ce2f3c42c06ba5da54f2b1991b01f0ee63bbae01682de50a17ab9d5b895b0b2440342d08ad",
            "type": "mint key certificate"
        }
        </textarea>
       </form>
    </div>	    		
</div>


<div data-role="page" id="messages" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#more' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
	    <div>Pending messages</div>
		
        <div data-role="collapsible-set" data-theme='d'>	
            <ul data-role="listview" data-inset='true'>
                <li><a href="#message">Send Coins</a></li>
                <li><a href="#message">Request Validation</a></li>
            </ul>
		</div>
	</div>
</div>

<div data-role="page" id="message" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#messages' data-icon='back'>back</a>
		<h1 class='currencyname'>Greenbucks</h1>
	</div>

	<div data-role="content">
    Request Validation
       <form>
        <textarea>
{
    "message_reference": 4,
    "transaction_reference": "8c317048fcc62967825f46b51a1ca7de",
    "authorization_info": "please delay",
    "blinds": [
        {
            "reference": "r_0",
            "blinded_payload_hash": "18aa321094a51bc4e79aaf88b55f70fd4384fb2144a207804294fbf1bd4f025de2276fd2ce56b6bdc1c2517e5f37088a400ff51d0b3c874789e6006bac72753b",
            "mint_key_id": "b75330358fa5bfd3eda3798f5a070c446cca8f94ac78ef8e8c5263585a41dff8",
            "type": "blinded payload hash"
        },
    ],
    "type": "request validation"
}
        </textarea>
       </form>
    </div>	    		
</div>

<div data-role="page" id="deletecurrency" data-theme='b'>
	<div data-role="header" data-position="fixed">
        <a href='#more' data-icon='back'>back</a>
		<h1>Delete currency?</h1>
	</div>

	<div data-role="content">
		<h1>Delete currency <span class='currencyname'>Greenbuck</span>?</h1>
        You will lose <span class='currencysum'>217.03</span> <span class='currencyname'>Greenbucks</span> if you do this. Are you really, really sure? Like, absolutely sure?
		<a href="#more" data-role="button" data-icon='back'>Be safe, go back</a>
		<a href="#currencies" class='confirm' data-role="button" data-theme='c' data-icon='delete'>Ok, delete currency</a>
	</div>
</div>
</body>
</html>
